function import$(t,e){var r={}.hasOwnProperty;for(var n in e)r.call(e,n)&&(t[n]=e[n]);return t}!function(){var t,e,r;t={events:{mousedown:function(t){var e;for(e=t.target;e&&!e.hasAttribute&&e.hasAttribute("draggable");)e=e.parentNode;if(e)return e.setAttribute("draggable",!0)},dragstart:function(e){var r;return r=this.mod.dragger,e.target,e.dataTransfer.setData("application/json",JSON.stringify({})),e.dataTransfer.setDragImage(t.ghost,10,10),r.setDrag(!0),e.stopPropagation()},dragover:function(t){var e,r;if(e=this.mod.dragger,r=ldCaret.byPtr({node:document.body,x:t.clientX,y:t.clientY}),e.contains(r.range.startContainer))return e.render(r.range),t.preventDefault()},drop:function(t){var e,r,n,i;if(e=[t.target,this.mod.dragger],r=e[0],(n=e[1]).contains(r))return(i=t.dataTransfer.getData("application/json"))&&JSON.parse(i),n.render(),n.setDrag(!1),t.preventDefault()}},ghost:(e=new Image,e.src="data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="15" viewBox="0 0 20 15">\n<rect x="0" y="0" width="20" height="15" fill="rgba(0,0,0,.5)"/>\n</svg>'),e),init:function(){return console.log("a"),this.mod.dragger=new r({root:this.root})}},r=function(t){var e;return null==t&&(t={}),this.opt=t,e=t.root,this.root=e="string"==typeof e?document.querySelector(e):e||null,import$(this,{dragging:!1,caret:null,src:null}),this.caret={box:null,range:null},this.evtHandler={},this.init(),this},r.prototype=import$(Object.create(Object.prototype),{init:function(){return this.caret.box=document.createElement("div"),import$(this.caret.box.style,{position:"fixed",left:0,top:0,display:"none",border:"2px solid #f0f",pointerEvents:"none",transition:"opacity .15s ease-in-out",animation:"blink .4s linear infinite"}),document.body.appendChild(this.caret.box)},contains:function(t){return this.root.contains(t)},setDrag:function(t){return this.dragging=t},render:function(t){var e,r;return t?(r=t.getBoundingClientRect(),import$(this.caret.box.style,{left:r.x+"px",top:r.y+"px",height:r.height+"px",width:"2px",position:"absolute",border:"2px solid #f00",display:"block"})):(e=this.caret.box.style,e.display="none",e)}}),((e=window.editable).mod||(e.mod={})).register("dragger",t)}();