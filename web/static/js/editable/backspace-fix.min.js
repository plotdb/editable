document.addEventListener("keydown",function(e){var t,n,o,r,d,a;if(t=e.target,window.getSelection&&8===e.which&&(n=window.getSelection()).isCollapsed&&n.rangeCount&&!((o=n.getRangeAt(n.rangeCount-1)).commonAncestorContainer.nodeType===Element.TEXT_NODE&&o.startOffset>0)){if(o=document.createRange(),n.anchorNode!==t)o.selectNodeContents(t),o.setEndBefore(n.anchorNode);else{if(!(n.anchorOffset>0))return;o.setEnd(t,n.anchorOffset)}if(o.endOffset)o.setStart(t,o.endOffset-1);else{for(r=o.endContainer;r&&r.parentNode&&!((d=Array.from(r.parentNode.childNodes).indexOf(r))>0);)r=r.parentNode;if(!r)return;o.setStart(r.parentNode,d-1),o.setEnd(r.parentNode,d)}return(a=o.cloneContents().lastChild)&&"false"===a.contentEditable?(o.deleteContents(),event.preventDefault()):void 0}});