var getPrev,getNext,showSelectedNodes;getPrev=function(e){var t;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e.childNodes&&(t=e.childNodes)[t.length-1];)e=(t=e.childNodes)[t.length-1];return e},getNext=function(e){var t;if(e.childNodes&&e.childNodes.length)return e.childNodes[0];if(t=e.nextSibling)return t;for(;;){if(!(e=e.parentNode))return null;if(t=e.nextSibling)return t}},showSelectedNodes=function(e){var t,n,r,o,d;for(n=(t=e.getRangeAt(0)).startContainer,r=t.endContainer,n.nodeType!==Element.TEXT_NODE&&(n=n.childNodes[t.startOffset]),r.nodeType!==Element.TEXT_NODE&&(r=r.childNodes[t.endOffset]),o=n,d=0;d<100&&(d,(o=getNext(o))&&o!==r);++d);return[]},document.addEventListener("copy",function(e){var t;return t=document.getSelection(),showSelectedNodes(t),e.clipboardData.setData("text/plain",t.toString()),e.preventDefault()}),document.addEventListener("paste",function(e){var t;return t=e.clipboardData.getData("text/plain"),document.execCommand("insertText",!1,t),e.preventDefault()});