function import$(t,e){var r={}.hasOwnProperty;for(var n in e)r.call(e,n)&&(t[n]=e[n]);return t}var editable;(editable=function(t){return null==t&&(t={}),this.opt=t,this.evtHandler={},this.root=t.root,this.root="string"==typeof t.root?ld$.find(t.root,0):t.root,this.fb=new focalbox({host:this.root}),this.drag=new dragger({root:this.root}),this}).prototype=import$(Object.create(Object.prototype),{on:function(t,e){var r;return((r=this.evtHandler)[t]||(r[t]=[])).push(e)},fire:function(t){var e,r,n,o,i,a,u,s=[];for(r=[],n=1,o=arguments.length;n<o;++n)r.push(arguments[n]);for(e=r,n=0,a=(i=this.evtHandler[t]||[]).length;n<a;++n)u=i[n],s.push(u.apply(this,e));return s},init:function(){var t,e,r=this;return function(){var r,n=[];for(t in r=contenteditableDynamics.events)e=r[t],n.push({k:t,v:e});return n}().map(function(t){var e,n;return e=t.k,n=t.v,document.addEventListener(e,function(t){return n.call(r,t)})}),document.addEventListener("keyup",function(t){if(27===t.which)return contenteditableDynamics.setEditable.call(r,{target:null})}),document.addEventListener("mousemove",debounce(10,function(t){var e;if((e=ld$.parent(t.target,"[editable]",r.root))&&e.hasAttribute&&e.hasAttribute("editable")&&"false"!==e.getAttribute("editable")&&!r.fb.isFocused())return r.fb.setTarget(e)})),this.on("blur",function(){return r.activeLock=!1,r.fb.focus(!1)}),this.on("focus",function(t){var e;return e=t.node,r.activeLock=!0,r.fb.setTarget(e),r.fb.focus(!0)})}});