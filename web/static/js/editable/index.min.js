function import$(t,e){var r={}.hasOwnProperty;for(var o in e)r.call(e,o)&&(t[o]=e[o]);return t}var editable;(editable=function(t){return null==t&&(t={}),this.opt=t,this.evtHandler={},this.mod={},this.root=t.root,this.root="string"==typeof t.root?ld$.find(t.root,0):t.root,this.fb=new focalbox({host:this.root}),this.drag=new dragger({root:this.root}),this}).mod={list:[],register:function(t,e){return this.list.push({name:t,mod:e})}},editable.prototype=import$(Object.create(Object.prototype),{on:function(t,e){var r;return((r=this.evtHandler)[t]||(r[t]=[])).push(e)},fire:function(t){var e,r,o,n,i,s,a,u=[];for(r=[],o=1,n=arguments.length;o<n;++o)r.push(arguments[o]);for(e=r,o=0,s=(i=this.evtHandler[t]||[]).length;o<s;++o)a=i[o],u.push(a.apply(this,e));return u},init:function(){var t,e,r=this;return function(){var r,o=[];for(t in r=editable.mod.list)e=r[t],o.push(e);return o}().map(function(t){return t.mod.init.call(r)}),document.addEventListener("mousemove",debounce(10,function(t){var e;if((e=ld$.parent(t.target,"[editable]",r.root))&&e.hasAttribute&&e.hasAttribute("editable")&&"false"!==e.getAttribute("editable")&&!r.fb.isFocused())return r.fb.setTarget(e)})),this.on("blur",function(){return r.mod.contenteditable.lock=!1,r.fb.focus(!1)}),this.on("focus",function(t){var e;return e=t.node,r.mod.contenteditable.lock=!0,r.fb.setTarget(e),r.fb.focus(!0)})}});